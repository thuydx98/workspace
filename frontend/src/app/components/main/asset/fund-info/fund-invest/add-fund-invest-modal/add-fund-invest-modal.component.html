<form nz-form [formGroup]="form">
    <nz-form-item>
        <nz-form-label [nzSpan]="6" nzRequired>Tên gói</nz-form-label>
        <nz-form-control [nzSpan]="18" nzErrorTip="Vui lòng nhập loại đầu tư">
            <nz-input-group>
                <input nz-input formControlName="name" />
            </nz-input-group>
        </nz-form-control>
    </nz-form-item>
    <nz-form-item>
        <nz-form-label [nzSpan]="6" nzRequired>Trạng thái</nz-form-label>
        <nz-form-control [nzSpan]="9">
            <nz-select name="select-validate" formControlName="status">
                <nz-option *ngFor="let item of statusOptions" [nzValue]="item.value" [nzLabel]="item.label"></nz-option>
            </nz-select>
        </nz-form-control>
    </nz-form-item>

    <nz-form-item>
        <nz-form-label [nzSpan]="6" nzRequired>Thời gian</nz-form-label>
        <nz-form-control [nzSpan]="18" nzErrorTip="Please input time">
            <nz-date-picker nzShowTime [nzShowTime]="{ nzFormat: 'HH:mm' }" nzFormat="yyyy-MM-dd HH:mm"
                formControlName="at">
            </nz-date-picker>
        </nz-form-control>
    </nz-form-item>

    <nz-form-item>
        <nz-form-label [nzSpan]="6" nzRequired>Tăng trưởng</nz-form-label>
        <nz-form-control [nzSpan]="9">
            <nz-select name="select-validate" formControlName="updateType">
                <nz-option [nzValue]="InvestUpdateType.AUTO" nzLabel="Tự động"></nz-option>
                <nz-option [nzValue]="InvestUpdateType.MANUAL" nzLabel="Thủ công"></nz-option>
            </nz-select>
        </nz-form-control>
    </nz-form-item>

    <ng-container *ngIf="form.value.updateType === InvestUpdateType.MANUAL">
        <nz-form-item>
            <nz-form-label [nzSpan]="6" nzRequired>Giá vốn</nz-form-label>
            <nz-form-control [nzSpan]="12">
                <nz-input-number formControlName="capitalPrice" [nzMin]="0" [nzStep]="1000">
                </nz-input-number>
            </nz-form-control>
        </nz-form-item>
        <nz-form-item>
            <nz-form-label [nzSpan]="6" nzRequired>Số lượng</nz-form-label>
            <nz-form-control [nzSpan]="12">
                <nz-input-number formControlName="amount" [nzMin]="0" [nzStep]="1">
                </nz-input-number>
            </nz-form-control>
        </nz-form-item>
        <nz-form-item>
            <nz-form-label [nzSpan]="6" nzRequired>Phí mua (%)</nz-form-label>
            <nz-form-control [nzSpan]="12">
                <nz-input-number formControlName="buyFeePercent" [nzMin]="0" [nzStep]="1">
                </nz-input-number>
            </nz-form-control>
        </nz-form-item>
        <nz-form-item>
            <nz-form-label [nzSpan]="6" nzRequired>Phí bán (%)</nz-form-label>
            <nz-form-control [nzSpan]="12">
                <nz-input-number formControlName="sellFeePercent" [nzMin]="0" [nzStep]="1">
                </nz-input-number>
            </nz-form-control>
        </nz-form-item>
    </ng-container>


    <ng-container *ngIf="form.value.updateType === InvestUpdateType.AUTO">
        <nz-form-item>
            <nz-form-label [nzSpan]="6">Lợi nhuận (%)</nz-form-label>
            <nz-form-control [nzSpan]="9">
                <nz-input-number formControlName="revenuePercent" [nzMin]="0" [nzStep]="1">
                </nz-input-number>
            </nz-form-control>
        </nz-form-item>
        <nz-form-item>
            <nz-form-label [nzSpan]="6">Tăng trưởng theo</nz-form-label>
            <nz-form-control [nzSpan]="9">
                <nz-select name="select-validate" formControlName="revenueCycle">
                    <nz-option nzValue="MONTHLY" nzLabel="Tháng"></nz-option>
                    <nz-option nzValue="YEARLY" nzLabel="Năm"></nz-option>
                </nz-select>
            </nz-form-control>
        </nz-form-item>
    </ng-container>

    <nz-form-item>
        <nz-form-label [nzSpan]="6">Ghi chú</nz-form-label>
        <nz-form-control [nzSpan]="18">
            <nz-input-group>
                <textarea nz-input [nzAutosize]="{ minRows: 2 }" formControlName="note"></textarea>
            </nz-input-group>
        </nz-form-control>
    </nz-form-item>

    <nz-form-item *ngFor="let item of criteria; let i = index">
        <nz-form-control [nzXs]="24" [nzSm]="20" [nzOffset]="i === 0 ? 0 : 4"
            nzErrorTip="Please input passenger's name or delete this field.">
            <input class="passenger-input" nz-input placeholder="placeholder" [attr.id]="item.id"
                [formControlName]="item.controlInstance" />
            <i nz-icon nzType="minus-circle-o" class="dynamic-delete-button"></i>
        </nz-form-control>
    </nz-form-item>
    <nz-form-item>
        <nz-form-control [nzXs]="{ span: 24, offset: 0 }" [nzSm]="{ span: 20, offset: 4 }">
            <button nz-button nzType="dashed" class="add-button">
                <i nz-icon nzType="plus"></i>
                Add field
            </button>
        </nz-form-control>
    </nz-form-item>
</form>